# Ansible Role: Vector

Данная Ansible-роль устанавливает агент сбора логов **Vector** (https://vector.dev) на Debian/Ubuntu-серверы.  
Установка выполняется через загрузку и установку `.deb` пакета и включает запуск systemd-сервиса.

---

## Поддерживаемые ОС

- Ubuntu 20.04+
- Debian 10+

---

## Использование

### Пример playbook

```yaml
- hosts: all
  become: true
  roles:
    - vector
```

---

## Переменные роли

### Vars (`vars/main.yml`)

| Переменная | Значение по умолчанию | Описание |
|-----------|------------------------|----------|
| `vector_version` | `"0.51.1-1"` | Версия пакета Vector |
| `vector_prerequisites` | `[ca-certificates, curl]` | Пакеты, необходимые до установки |

### Defaults

В этой роли файл `defaults/main.yml` отсутствует — переопределяемые значения находятся в `vars/main.yml`.  
При необходимости пользователь может переопределить переменные вручную.

---

## Что делает роль

### Tasks (`tasks/main.yml`)

1. Устанавливает необходимые пакеты (`ca-certificates`, `curl`)
2. Определяет архитектуру системы (`dpkg --print-architecture`)
3. Загружает `.deb` пакет Vector с официального репозитория
4. Устанавливает Vector с помощью `apt`
5. Запускает и включает сервис Vector через systemd

---

## Шаблоны

Роль **не использует шаблоны** и не создаёт конфигурационные файлы Vector.

---

## Handlers

Роль **не содержит handlers**, так как не выполняет конфигурацию Vector.

---

## Пример переопределения версии Vector

```yaml
vector_version: "0.50.0-1"
```

---

## Лицензия

MIT

## Автор

[Дамир Гайнуллин](https://github.com/Reqroot-pro)
